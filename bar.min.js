"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global;"function"==typeof define&&define.amd?define([],function(){t.Bar=e()}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.Bar=e()}(function(){var e=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),!(t instanceof HTMLElement))return{};this._value=n.default||0,this._ori=t.offsetHeight>t.offsetWidth?"y":"x",this._inner_mode=n.inner_mode||!1,this._hide_dot=n.hide_dot||!1,this._hide_fill=n.hide_fill||!1,this._disabled=n.disabled||!1,this._precision=n.precision||2;var o=document.createElement("div"),l=document.createElement("div");o.appendChild(l);var s=document.createElement("div");o.appendChild(s),t.appendChild(o);var r={client:0,value:0},a=function(e){if(!i._disabled)return r.client="x"===i._ori?e.clientX:e.clientY,r.value=i._value,document.addEventListener("mousemove",d),document.addEventListener("mouseup",f),e.preventDefault(),e.stopPropagation(),!1},d=function(e){var t=r.value+("x"===i._ori?e.clientX-r.client:r.client-e.clientY)/(i._bar_len-(i._inner_mode?2*i._dot_r:0));i._set_value(t,"drag")},f=function e(t){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",e)};s.addEventListener("mousedown",a),o.addEventListener("mousedown",function(e){if(!i._disabled){for(var t=[e.offsetX,i._bar_len-e.offsetY],n=t[0],l=t[1],s=e.target;s!==o;)n+=s.offsetLeft,l-=s.offsetTop,s=s.parentNode;var r="x"===i._ori?n:l,d=i._inner_mode?(r-i._dot_r)/(i._bar_len-2*i._dot_r):r/i._bar_len;i._set_value(d,"click"),a(e)}}),this.elem={dot:s,wrapper:o,fill:l},this._on={},this.render()}return _createClass(e,[{key:"_set_value",value:function(e,t){"[object Number]"===Object.prototype.toString.call(e)&&(e=e>1?1:e<0?0:e,e=+e.toFixed(this._precision),this.elem.dot.style["x"===this._ori?"left":"bottom"]="calc("+100*e*(this._inner_mode?1-2*this._dot_r/this._bar_len:1)+"% - "+(this._inner_mode?0:this._dot_r)+"px)",this.elem.fill.style["x"===this._ori?"width":"height"]=100*e+"%",this._value!==e&&this._on.change&&this._on.change(e,t),this._value=e)}},{key:"render",value:function(){this._ori=this.elem.wrapper.offsetHeight>this.elem.wrapper.offsetWidth?"y":"x";var e=this.elem.wrapper.style;e.position="relative",e.width=e.height="100%",e.padding=e.margin="0";var t=this.elem.fill.style;t.display=this._hide_fill?"none":"block",t.position="absolute",t.width=t.height="100%",t.left=t.bottom="0",t.padding=t.margin="0";var i=this.elem.dot.style;i.display=this._hide_dot?"none":"block",i.position="absolute",i.left="calc(50% - "+this.elem.dot.offsetWidth/2+"px)",i.bottom="calc(50% - "+this.elem.dot.offsetHeight/2+"px)",this._dot_r=("x"===this._ori?this.elem.dot.offsetWidth:this.elem.dot.offsetHeight)/2,this._bar_len="x"===this._ori?this.elem.wrapper.offsetWidth:this.elem.wrapper.offsetHeight,this._set_value(this._value,"render")}},{key:"on",value:function(e,t){"function"==typeof t&&(this._on[e]=t)}},{key:"enable",value:function(){this._disabled=!1}},{key:"disable",value:function(){this._disabled=!0}},{key:"hide_dot",value:function(){this._hide_dot=!0,this.render()}},{key:"show_dot",value:function(){this._hide_dot=!1,this.render()}},{key:"hide_fill",value:function(){this._hide_fill=!0,this.render()}},{key:"show_fill",value:function(){this._hide_fill=!1,this.render()}},{key:"value",set:function(e){this._set_value(e,"set")},get:function(){return this._value}}]),e}();return e});